import{_ as Le}from"./ossUploaderNew.bc250fbe.js";import{_ as we,a as $e}from"./sPrompt.b2dad4d0.js";import{_ as Ee}from"./exclusiveRobot.162a3235.js";import{_ as Re}from"./addMember2.34cceba5.js";import{a as ue,e as de,r,t as Ie,w as Ne,h as T,c as M,k as _,m as pe,_ as Se,o as c,j as v,y as e,A as S,Q as Oe,u as I,z as Be,i as p,F,s as le,v as K,x as i,l as f,B as ve,C as _e,D as me,G as ye,S as Ue,b as Te,f as Ve}from"./entry.b3d0478f.js";import{_ as De}from"./search.b7f4d531.js";import{_ as he}from"./robot.23bfda18.js";import{_ as ze}from"./hot.d804d2cf.js";import{_ as Pe,s as qe}from"./searchRobot.3c461c9c.js";import{g as Fe}from"./glisten.f6d63182.js";import{_ as Me}from"./createLoading.vue.f649d7e2.js";import{n as Qe}from"./index.ea4cda87.js";import{_ as We}from"./banner.06de7149.js";import{_ as xe}from"./edit1.66aaae0f.js";import{_ as Je}from"./del1.900d6e9b.js";import{D as re,_ as Ye,a as Ke,b as Ge}from"./vuedraggable.umd.812143cd.js";import"./upload.1da94f3c.js";import"./svga.4b61c129.js";import"./loding.3cd02d06.js";import"./stringify.f484c508.js";import"./close.79d7cbfd.js";import"./_commonjsHelpers.86de73f2.js";import"./_commonjs-dynamic-modules.302442b1.js";import"./electricCom.fe3eb12e.js";const He="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAfxJREFUWEft179rE2Ecx/H3N2boUIU8F6GDBQUdRQWHuDk4ODrckxShoKCg0NFNB/0DnBR0cHBwCLkEFLNZqOKgi9ih4KCDg4sld1nc2t5XKxZSa2J47tI8w938fJ973ef5eYLnj3juowBmHaEiwSLBcRNYbzFbhiWF41qiWw15Pm7tqHa5zEFdodyPeYtS23mZwvXA8iQrMhdg0uYGyqNBjCofgjpnpw6MOxyRlM/AzC6M8NWEHJs+sE1TlMYeiA/AuEUoQvTPlKYN1BVm+jGfUI56Cey3eaDK0tA5tl8Jxh1qknIFmAOaxtLsRdwpwe09C2O3dhNYG/YBqnwX4aGxdJ33wV6HC6WUlwOQF8ZyKWmxinAq6wr9XS8smpBnw/oauQ8mER+B0wPFuQMFvlQsJ1yB+ldh7sDt/o0dfi/9X4L7AfxmLPP+Jqi8MXXOewsU4Wkl5Kq3QE25FzS46y2QlEXTcN9mJr5IdItzwQLvvU2wvMHhQ5fp+Qr8YSwHnY+6JGKyQyysmZCT3gJV6QR1wizADaA8qbNY4X5gueUObPNu8E8NyPcsFm6akMfOwLhJTQ7wCpj900muQFHOVOqsOgO3C9dbzJWEa78ul1XdolttsJxELChcdL4PKpuivB61Qe/0nct/sTN0jMICOEZII5sUCRYJZk0ga/1PqbPYKdwyyGwAAAAASUVORK5CYII=",j=N=>(_e("data-v-8708ba91"),N=N(),me(),N),Xe={class:"robotPage-header"},je={class:"robotPage-content"},Ze={class:"content-left"},et={style:{padding:"12px"}},tt={class:"left-search"},ot=j(()=>e("div",{class:"left-division"},null,-1)),st={class:"left-list"},at=["onClick"],lt=["src"],nt=j(()=>e("div",{class:"left-division"},null,-1)),it={class:"robot-list"},ct=["onClick"],rt={class:"content-right"},ut={key:0,class:"right-title"},dt=["onClick"],pt={key:0},vt={key:1,class:"robotListCom clearfix"},_t=["src"],mt={key:1,class:"logo",src:he,alt:""},yt={class:"text-hide",style:{"margin-bottom":"0px","line-height":"20px"}},ht={class:"text-hide",style:{"max-width":"264px"}},gt={class:"text-hide-2",style:{"max-width":"264px"}},bt={class:"data"},kt={key:0,class:"fl"},ft=j(()=>e("img",{class:"icon",src:ze,alt:""},null,-1)),Ct={key:1,class:"fl"},At=j(()=>e("img",{class:"icon w22",src:Pe,alt:""},null,-1)),Lt={key:2,style:{display:"flex","align-items":"center"}},wt={style:{display:"flex","align-items":"center"}},$t=j(()=>e("span",{class:"gray"},"@",-1)),Et={class:"btn"},Rt=["onClick"],It=["onClick"],Nt=["onClick"],St=ue({__name:"robotPage",props:{list:{type:Array,default:[]}},emits:["update:list"],setup(N,{expose:ce,emit:Q}){const Z=N;de();const h=r(1),{proxy:w}=pe(),G=r(!1),y=r(!1),{list:m}=Ie(Z),g=r(""),ne=r([{name:"平台推荐",img:He,key:"REC"},{name:"我的智能体",img:Fe,key:"MY"}]),V=r([]);r([{id:1,name:"全部",num:5},{id:2,name:"效率",num:3},{id:3,name:"文本创作",num:5},{id:4,name:"功能写作",num:7}]);const $=r(""),C=r([]);r([]);const A=r(""),D=r(""),n=r([]),z=r(""),E=()=>{G.value=!0,B(),x(1)},B=()=>{V.value=[],n.value=[],C.value=[],A.value="",D.value="",z.value="",y.value=!0,$.value=""},W=w.$debounce(l=>{h.value==1&&(g.value=="REC"&&J(),g.value=="MY"&&b()),h.value==2&&ae(),h.value==3&&P()},500),x=async l=>{await B(),h.value=l,h.value==1&&ee("REC"),h.value==2&&ae(),h.value==3&&P()},ee=async l=>{await B(),g.value=l,g.value=="MY"&&b(),g.value=="REC"&&oe()},H=l=>{A.value=l.code,h.value==1&&g.value=="REC"&&(D.value=l.type,z.value="",C.value=[],se(),J()),h.value==2&&(C.value=[],C.value=l.robotList.map(s=>({...s,check:!1,robotName:s.name,robotCode:s.code,robotDescribe:s.robotRemark}))),h.value==3&&(C.value=l.queryTagInfoRobotList.map(s=>({...s,check:!1,robotName:s.tagName,robotCode:s.robotCode,robotDescribe:s.robotRemark})))},te=l=>{z.value=l.code,J()},b=()=>{y.value=!0,w.$api.space_robotQuery({type:"CHAT",name:$.value}).then(l=>{C.value=l.data.map(s=>({...s,check:!1,robotName:s.name,robotCode:s.code,robotDescribe:s.robotRemark})),y.value=!1},l=>{y.value=!1})},oe=()=>{w.$api.queryIntelligentAgentCategory().then(l=>{V.value=l.data.map(s=>({...s,code:s.code,cateName:s.name})),J()})},se=()=>{let l={categoryCode:A.value,categoryType:D.value};w.$api.queryIntelligentAgentRobotLabel(l).then(s=>{n.value=s.data})},J=()=>{let l={categoryCode:A.value,categoryType:D.value,labelCode:z.value,name:$.value};C.value=[],y.value=!0,w.$api.queryIntelligentAgentRobot(l).then(s=>{C.value=s.data?s.data:[],y.value=!1},s=>{y.value=!1})},ae=()=>{w.$api.queryCategoryRobotList({keyword:$.value,type:"QUESTION_BANK_ROBOT_CATEGORY"}).then(l=>{V.value=l.data.map(s=>({...s,code:s.id})),w.$isEmpty(l.data)||H(l.data[0]),y.value=!1},l=>{y.value=!1})},P=()=>{let l={name:$.value,type:"AI_APPLY_CATEGORY",queryRobotFlag:!0};w.$api.queryAiApplyListPermission(l).then(s=>{V.value=s.data.map(R=>({...R,code:R.code,cateName:R.name})),w.$isEmpty(s.data)||H(s.data[0]),y.value=!1},s=>{y.value=!1})},X=l=>{console.log(l),l.check=!l.check,ie(l)},ie=l=>{if(l.check)m.value.some(s=>s.robotCode===l.robotCode)||(l.code="",m.value.push(l));else{const s=m.value.findIndex(R=>R.robotCode===l.robotCode);s>-1&&m.value.splice(s,1)}Q("update:list",m.value)};return ce({showFn:E}),Ne(()=>C.value,l=>{console.log(l),l.forEach(s=>{m.value.find(t=>t.robotCode===s.robotCode)&&(s.check=!0)})},{deep:!0,immediate:!0}),(l,s)=>{const R=T("Button"),t=T("Input"),o=T("Tooltip"),d=Se,U=T("Modal");return c(),M(d,null,{default:_(()=>[v(U,{modelValue:G.value,"onUpdate:modelValue":s[5]||(s[5]=a=>G.value=a),"class-name":"robotPage",width:"1012",transfer:"","footer-hide":!0,"mask-closable":!1},{header:_(()=>[e("div",Xe,[v(R,{class:"header-btn",onClick:s[0]||(s[0]=a=>x(1)),type:h.value==1?"primary":"text"},{default:_(()=>[S("智能体")]),_:1},8,["type"]),v(R,{class:"header-btn",onClick:s[1]||(s[1]=a=>x(2)),type:h.value==2?"primary":"text"},{default:_(()=>[S("AI写作")]),_:1},8,["type"])])]),default:_(()=>[e("div",je,[e("div",Ze,[e("div",et,[e("div",tt,[v(t,{modelValue:$.value,"onUpdate:modelValue":s[3]||(s[3]=a=>$.value=a),onKeyup:Oe(I(W),["enter"]),placeholder:"搜索"},{prefix:_(()=>[e("img",{style:{cursor:"pointer",width:"20px",height:"20px"},onClick:s[2]||(s[2]=Be((...a)=>I(W)&&I(W)(...a),["stop"])),src:De})]),_:1},8,["modelValue","onKeyup"])]),h.value==1?(c(),p(F,{key:0},[ot,e("div",st,[(c(!0),p(F,null,le(ne.value,a=>(c(),p("div",{class:K(["list-item",g.value==a.key?"active":""]),onClick:q=>ee(a.key)},[e("img",{src:a.img},null,8,lt),e("div",null,i(a.name),1)],10,at))),256))])],64)):f("",!0),nt]),e("div",{class:K(["left-robot",h.value!=1?"h":""])},[e("div",it,[(c(!0),p(F,null,le(V.value,(a,q)=>(c(),p("div",{class:K(["list-item",A.value==a.code?"active":""]),key:q,onClick:Y=>H(a)},i(a.cateName),11,ct))),128))])],2)]),e("div",rt,[g.value=="REC"&&!l.$isEmpty(n.value)?(c(),p("div",ut,[e("div",{class:K(["title-btn",z.value==""?"btn-active":""]),onClick:s[4]||(s[4]=a=>te({code:""}))},"全部",2),(c(!0),p(F,null,le(n.value,(a,q)=>(c(),p("div",{class:K(["title-btn",z.value==a.code?"btn-active":""]),key:q,onClick:Y=>te(a)},[S(i(a.name),1),a.num?(c(),p("span",pt,"("+i(a.num)+")",1)):f("",!0)],10,dt))),128))])):f("",!0),l.$isEmpty(C.value)?f("",!0):(c(),p("div",vt,[(c(!0),p(F,null,le(C.value,(a,q)=>(c(),p("div",{class:K(["item",h.value==2?"item1":h.value==3?"item2":""]),key:q},[a.robotLogo?(c(),p("img",{key:0,class:"logo",src:a.robotLogo,alt:""},null,8,_t)):(c(),p("img",mt)),e("h2",yt,[v(d,null,{default:_(()=>[v(o,{content:a.robotName,"max-width":"200"},{default:_(()=>[e("div",ht,i(a.robotName),1)]),_:2},1032,["content"])]),_:2},1024)]),v(d,null,{default:_(()=>[v(o,{content:a.robotDescribe,"max-width":"200"},{default:_(()=>[e("p",gt,i(a.robotDescribe),1)]),_:2},1032,["content"])]),_:2},1024),e("div",bt,[l.$isEmpty(a.clickCount)?f("",!0):(c(),p("div",kt,[ft,S(" "+i(a.clickCount),1)])),!l.$isEmpty(a.collectCount)&&a.collectCount!=0?(c(),p("div",Ct,[At,S(" "+i(a.collectCount),1)])):f("",!0),l.$isEmpty(a.companyName)?f("",!0):(c(),p("div",Lt,[v(d,null,{default:_(()=>[v(o,{content:a.companyName,"max-width":"200"},{default:_(()=>[e("div",wt,[$t,e("span",{class:"companyName text-hide",style:ve({"max-width":!l.$isEmpty(a.collectCount)&&a.collectCount!=0?"100px":"130px"})},i(a.companyName),5)])]),_:2},1032,["content"])]),_:2},1024)]))]),e("div",Et,[a.check?(c(),p(F,{key:1},[e("span",{class:"gray",onClick:Y=>X(a)},"已添加",8,It),e("span",{class:"red",onClick:Y=>X(a)},"移除",8,Nt)],64)):(c(),p("span",{key:0,class:"blue",onClick:Y=>X(a)},"添加",8,Rt))])],2))),128))])),y.value?(c(),M(I(Me),{key:2,position:"center"})):f("",!0),l.$isEmpty(C.value)&&!y.value?(c(),M(I(Qe),{key:3})):f("",!0)])])]),_:1},8,["modelValue"])]),_:1})}}});const Ot=ye(St,[["__scopeId","data-v-8708ba91"]]),Bt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAXxJREFUaEPtVjtOxDAUtBOOAEXiK1FQQLHlFpxqiy0poKDgSvkJjrCykVeJZBAm47z3hFa8lNZ4Mh//rLnwz164fqMG/rpBbUAbICagS4gYIHm6NkCOkEigDRADJE/XBsgREgn+TwPOuVvv/TEGZq197Pv+lRjel+lt296FEA5x0Hu/n6bpDeGHG2ia5t0Ycz2TnkIIu3EcX5CfrGGcc/fe+ydjzNWM/RiG4WZt3jlMBBQx3wzEIRYTP4iP3PwG5oqfk5TIJjLiT9baB3SJwg1EtbkfbllOOa6qqnZd18FLs8gAlwku8UV7IN0rlCY4xW82sLUJbvEkA6UmJMSTDaAmpMSzGFgzUdd1vFnTS+p8/JaeNrn7qvgUyhHlUp7xyw3LKp6tgcVUxkTqmS35hZStAcAEu3j2Bn4xISJezEAkTp/HEs9vsSWEvm65cOx7gEsYyqMG0KSkcNqAVLIorzaAJiWF0wakkkV5tQE0KSmcNiCVLMqrDaBJSeE+AQYlBkCUP/B+AAAAAElFTkSuQmCC",Ut="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAohJREFUWEftmD9oE3EUxz8vafUu1NKhg4ODg0KHDg3orqBDcXGog1RRcVEUeycWcdahYOFSdOggqDSdnMShgoIFR4V0zOAQ0LFgqSUXaXNPLv8LyZnkklDK3XbHe9/f577v3vF7P+GAX3LA+YgAw1YocrD/Dr5Wgy33PhKbRXQCxQi56B6wgeoqY+Yyt6QQpBdcYsc9SYw1lImQUM3TRbJ4Oo1t5lrptwb0ndsuZPoGVyXyIUePJls52RrQyVuIOLU380uCvILiFhL/CowA62jRDnY3/gzhUilGi0kYGgfvJiKzDdrz2InFZjqtAVPuN+BMWVhXsRPXagKpwm/QMVTfYycuBwI67huEG6UYy6yv5+TTdUjZwDKSnQLuAkNlQLmIbXzuLaB7DuFLSVMoMGeanQJqvQTFJPbIRh3Q/QmcAHKozkPc78wWjeA9BSaBHSzzWC3I2ZlC4pnafaO7DUpBJQ4AzC+APO6os0WWmTPuDgaw1OF/V1CdaQtS+MiQcYV7sjMYwOoqS38m8Y6cCobcze37PKrBfS1xW7b9JygCDOti5OCBdrC8kXiBp6fb4hQ2iWHxIPFrML8ZJz+DyLu24OpBT7DMhcEALm6PMzz8AeV4m5CbeHKVh8aPwQC2SRUYFnVxWBcPv4NLrlub4JTz2OZ6WNP25TuFC4h+qjzbwzKHm+kH7AcLGdCpSlIay7zeU8CUuwJUx4jvWObZzgCd/CNEnjckpdHiW2AzHGh8DOF2A5w/89jYiVRngOVNaQbV/szEVRohy6jRxdjpC5QGd1nrG6QP59Hl4F59w/LRx53KiOh/k+VJr9vLn+BUsqjnH328DHf00S1ED/Oi47ewZkYOHnoH/wFMXlU4BNipYgAAAABJRU5ErkJggg==",O=N=>(_e("data-v-3bfaf5b3"),N=N(),me(),N),Tt={class:"deploy"},Vt={class:"deploy-top"},Dt={class:"top-left"},zt={class:"btn"},Pt=O(()=>e("img",{src:Bt},null,-1)),qt={class:"left-name"},Ft={class:"top-content"},Mt=O(()=>e("div",{style:{width:"8px"}},null,-1)),Qt={class:"top-right"},Wt=O(()=>e("div",{style:{width:"12px"}},null,-1)),xt={class:"right-btn"},Jt=O(()=>e("img",{src:Ut,alt:""},null,-1)),Yt={class:"content-top"},Kt={class:"top-item"},Gt={class:"name"},Ht={class:"aiArea"},Xt={class:"aiArea-content"},jt={class:"banner"},Zt={key:0,class:"shadow"},eo={class:"shadow-tag"},to=O(()=>e("img",{src:$e},null,-1)),oo=["src"],so={key:2,class:"pic",src:We,alt:""},ao={class:"oper"},lo={class:"item"},no={class:"list-area"},io={key:0,class:"list clearfix"},co={class:"title clearfix"},ro=["onClick"],uo=O(()=>e("img",{src:xe,alt:""},null,-1)),po=[uo],vo=["onClick"],_o=O(()=>e("img",{src:Je,alt:""},null,-1)),mo=[_o],yo={class:"add clearfix"},ho=["onClick"],go=O(()=>e("img",{src:Ke,alt:""},null,-1)),bo=["onClick"],ko=O(()=>e("img",{src:Ge,alt:""},null,-1)),fo={class:"electric-tag"},Co={class:"robot-list"},Ao={class:"robot"},Lo=["onClick"],wo=["src"],$o={key:1,class:"robot-logo",src:he},Eo=["title"],Ro=["title"],Io={key:1,class:"classifyPage"},No={class:"classifyPage-top"},So=O(()=>e("span",{class:"blue"},"10",-1)),Oo={class:"blue"},Bo={class:"classifyPage-table"},Uo={class:"table-name"},To={class:"name"},Vo={class:"table-num"},Do={class:"table-action"},zo=["onClick"],Po=["onClick"],qo={class:"table-bottom"},Fo={key:0,class:"delete-content"},Mo={class:"name"},Qo={class:"sub"},Wo=ue({__name:"deploy",setup(N){const{locale:ce,t:Q}=Ue(),Z=r(),h=r(),w=r(null),G=r(),y=r(""),m=de();Te();const{proxy:g}=pe(),ne=r(null),V=r(),$=r(!1),C=r(!1),A=r(1),D=r([]),n=r({name:"",backgroundImage:"",backgroundCode:"",showBackgroundImageFlag:!0,workbenchCategoryList:[{name:Q("aiEnterprise.deploy.常用"),seq:0,applyCount:0,dataStatus:"NORMAL",getWorkbenchChunkList:[]}],permissionList:[],bizType:""}),z=r([]),E=r(""),B=r(""),W=r(!1),x=r(""),ee=r([{title:Q("aiEnterprise.deploy.分类名称"),key:"name",slot:"name"},{title:Q("aiEnterprise.deploy.已添加应用"),key:"applyCount",slot:"num"},{title:Q("aiEnterprise.deploy.是否显示"),slot:"status"},{title:Q("aiEnterprise.deploy.操作"),slot:"action"}]);Ve(()=>{H();let t={typeList:["INTELLIGENT_MATCHING"]};g.$api.calcElectricity(t).then(o=>{x.value=o.data[0].electricity})});const H=()=>{if(!g.$isEmpty(m.currentRoute.value.query.code)){let t={code:m.currentRoute.value.query.code,bizType:m.currentRoute.value.query.bizType};g.$api.getWorkbenchInfo(t).then(o=>{n.value=o.data,z.value=JSON.parse(JSON.stringify(o.data.permissionList)),E.value="",o.data.permissionList&&o.data.permissionList.length>0&&o.data.permissionList.forEach(d=>{E.value?E.value=E.value+","+d.name:E.value=d.name})})}},te=t=>{n.value.backgroundImage=t[0].url,n.value.backgroundCode=t[0].code},b=r(0),oe=(t,o,d)=>{b.value=o,D.value=[],t.forEach(U=>{D.value.push(U.robotCode)}),d=="add"?h.value.showFn():w.value.showFn(t)},se=t=>{t.forEach(o=>{const d=n.value.workbenchCategoryList[b.value].getWorkbenchChunkList;d.some(a=>a.robotCode===o.robotCode)||d.push({robotCode:o.robotCode,robotLogo:o.robotLogo,robotName:o.robotName,robotDescribe:o.robotRemark})}),n.value.workbenchCategoryList[b.value].applyCount=n.value.workbenchCategoryList[b.value].getWorkbenchChunkList.length},J=(t,o)=>{ae(n.value.workbenchCategoryList,t,o)},ae=(t,o,d)=>{if(o>=0&&o<t.length&&d>=0&&d<t.length){let U=t[o];t[o]=t[d],t[d]=U}else console.error("Invalid indices");return t},P=(t,o,d)=>{n.value.workbenchCategoryList.length>=10&&g.$Message.error("最多添加10个分类"),y.value=t,b.value=o||0,B.value=d!=null&&d.name?d.name:"",W.value=!1,V.value.showFn()},X=()=>{y.value=="add"&&n.value.workbenchCategoryList.push({name:B.value,seq:0,applyCount:0,dataStatus:"NORMAL",getWorkbenchChunkList:[]}),y.value=="edit"&&(n.value.workbenchCategoryList[b.value].name=B.value),y.value=="delete"&&n.value.workbenchCategoryList.splice(b.value,1),W.value=!0},ie=()=>{if(g.$isEmpty(n.value.name)){g.$Message.error("请输入工作台名称");return}let t="saveWorkbench";g.$isEmpty(m.currentRoute.value.query.code)||(t="saveWorkbench"),$.value=!0,n.value.workbenchCategoryList.forEach((o,d)=>{o.seq=d}),n.value.permissionList=Z.value,m.currentRoute.value.query.bizType&&(n.value.bizType=m.currentRoute.value.query.bizType),g.$api[t](n.value).then(o=>{g.$Message.success("保存成功"),$.value=!1,m.currentRoute.value.query.bizType?m.push("/ai/app/often?code="+o.data+"&bizType="+m.currentRoute.value.query.bizType):m.push("/ai/app/often?code="+o.data+"&bizType=WORKBENCH")}).catch(()=>{$.value=!1})},l=t=>{E.value="",t.forEach(o=>{n.value.permissionList=JSON.parse(JSON.stringify(t)),E.value?E.value=E.value+","+o.name:E.value=o.name})},s=t=>{m.replace({path:m.currentRoute.value.path,query:{code:m.currentRoute.value.query.code,bizType:t}})},R=t=>{Z.value=JSON.parse(JSON.stringify(t))};return(t,o)=>{const d=T("Button"),U=T("Input"),a=T("Icon"),q=Le,Y=T("Switch"),ge=T("Table"),be=we,ke=Ee,fe=Re,Ce=Ot;return c(),p(F,null,[e("div",Tt,[e("div",Vt,[e("div",Dt,[v(d,{class:"backBtn",onClick:o[0]||(o[0]=u=>I(m).go(-1))},{default:_(()=>[e("div",zt,[Pt,e("div",null,i(t.$t("public.返回")),1)])]),_:1}),e("div",qt,i(t.$t("aiEnterprise.deploy.工作台页面")),1)]),e("div",Ft,[v(d,{type:A.value==1?"primary":"text",class:"btn",onClick:o[1]||(o[1]=u=>A.value=1)},{default:_(()=>[S(i(t.$t("aiEnterprise.deploy.页面配置")),1)]),_:1},8,["type"]),Mt,v(d,{type:A.value==2?"primary":"text",class:"btn",onClick:o[2]||(o[2]=u=>A.value=2)},{default:_(()=>[S(i(t.$t("aiEnterprise.deploy.分类配置")),1)]),_:1},8,["type"])]),e("div",Qt,[v(d,{class:"btn",onClick:o[3]||(o[3]=u=>I(m).go(-1))},{default:_(()=>[S(i(t.$t("public.取消")),1)]),_:1}),Wt,v(d,{type:"primary",class:"btn",loading:$.value,ghost:"",onClick:ie},{default:_(()=>[e("div",xt,[Jt,e("div",null,i(t.$t("aiEnterprise.deploy.保存并发布")),1)])]),_:1},8,["loading"])])]),e("div",{class:"deploy-content",style:ve({padding:A.value==1?"36px 0":"36px 169px"})},[A.value==1?(c(),p(F,{key:0},[e("div",Yt,[e("div",Kt,[e("div",Gt,i(t.$t("aiEnterprise.deploy.工作台名称")),1),v(U,{class:"input",modelValue:n.value.name,"onUpdate:modelValue":o[4]||(o[4]=u=>n.value.name=u),placeholder:t.$t("aiEnterprise.deploy.请输入")},null,8,["modelValue","placeholder"])])]),e("div",Ht,[e("div",Xt,[e("div",jt,[n.value.showBackgroundImageFlag?f("",!0):(c(),p("div",Zt,[e("div",eo,[to,e("div",null,i(t.$t("aiEnterprise.deploy.不显示图片")),1)])])),n.value.backgroundImage?(c(),p("img",{key:1,class:"pic",src:n.value.backgroundImage,alt:""},null,8,oo)):(c(),p("img",so)),e("div",ao,[v(q,{class:"fl",id:"cImage-upload",format:["jpg","jpeg","png"],limit:1,maxSize:10,modeType:"freedom",onUploadSuccess:te},{content:_(()=>[e("div",lo,[v(a,{class:"icon",type:"ios-images"}),S(" "+i(t.$t("aiEnterprise.deploy.修改图片")),1)])]),_:1}),e("div",{class:"item",onClick:o[5]||(o[5]=u=>n.value.showBackgroundImageFlag=!n.value.showBackgroundImageFlag)},[n.value.showBackgroundImageFlag?(c(),M(a,{key:0,class:"icon",type:"md-eye"})):(c(),M(a,{key:1,class:"icon",type:"md-eye-off"})),S(" "+i(n.value.showBackgroundImageFlag?t.$t("aiEnterprise.deploy.隐藏图片"):t.$t("aiEnterprise.deploy.显示图片")),1)])])]),e("div",no,[v(I(re),{modelValue:n.value.workbenchCategoryList,"onUpdate:modelValue":o[6]||(o[6]=u=>n.value.workbenchCategoryList=u),"item-key":"id"},{item:_(({element:u,index:L})=>[u.dataStatus=="NORMAL"?(c(),p("div",io,[e("div",co,[v(a,{class:"icon",type:"md-menu"}),e("h2",null,i(u.name),1),e("div",{class:"item",onClick:k=>P("edit",L,u)},po,8,ro),e("div",{class:"item",onClick:k=>P("delete",L,u)},mo,8,vo)]),e("div",yo,[e("div",{class:"item",onClick:k=>oe(u.getWorkbenchChunkList,L,"add")},[go,e("h3",null,i(t.$t("aiEnterprise.deploy.自定义添加")),1),e("p",null,i(t.$t("aiEnterprise.deploy.支持智能体")),1)],8,ho),e("div",{class:"item purple",onClick:k=>oe(u.getWorkbenchChunkList,L,"search")},[ko,e("h3",null,i(t.$t("aiEnterprise.deploy.智能匹配")),1),e("p",null,i(t.$t("aiEnterprise.deploy.根据智能")),1),e("div",fo,"-"+i(x.value)+i(t.$t("aiChat.电量")),1)],8,bo)]),e("ul",Co,[v(I(re),{modelValue:u.getWorkbenchChunkList,"onUpdate:modelValue":k=>u.getWorkbenchChunkList=k,draggable:".robot",group:"robot"},{item:_(({element:k,index:Ae})=>[e("li",Ao,[e("img",{class:"del",onClick:xo=>u.getWorkbenchChunkList.splice(Ae,1),src:Ye,alt:""},null,8,Lo),k.robotLogo?(c(),p("img",{key:0,class:"robot-logo",src:k.robotLogo,alt:""},null,8,wo)):(c(),p("img",$o)),e("h3",{title:k.robotName},i(k.robotName),9,Eo),e("p",{title:k.robotDescribe},i(k.robotDescribe),9,Ro)])]),_:2},1032,["modelValue","onUpdate:modelValue"])])])):f("",!0)]),_:1},8,["modelValue"])])])])],64)):f("",!0),A.value==2?(c(),p("div",Io,[e("div",No,[e("span",null,i(t.$t("aiEnterprise.deploy.最多可添加")),1),So,e("span",null,i(t.$t("aiEnterprise.deploy.个分类可进行")),1),e("span",Oo,i(t.$t("aiEnterprise.deploy.拖动修改")),1),e("span",null,i(t.$t("aiEnterprise.deploy.排序")),1)]),e("div",Bo,[v(ge,{columns:ee.value,data:n.value.workbenchCategoryList,draggable:"",loading:C.value,"max-height":"500",border:n.value.workbenchCategoryList.length>0,onOnDragDrop:J},{name:_(({row:u,index:L})=>[e("div",Uo,[v(a,{type:"md-menu",class:"ico"}),e("div",To,i(u.name),1)])]),num:_(({row:u,index:L})=>[e("div",Vo,i(n.value.workbenchCategoryList[L].getWorkbenchChunkList.length),1)]),status:_(({row:u,index:L})=>[v(Y,{"true-value":"NORMAL","false-value":"DISABLE",modelValue:n.value.workbenchCategoryList[L].dataStatus,"onUpdate:modelValue":k=>n.value.workbenchCategoryList[L].dataStatus=k},null,8,["modelValue","onUpdate:modelValue"])]),action:_(({row:u,index:L})=>[e("div",Do,[e("div",{class:"action-item",onClick:k=>P("edit",L,u)},i(t.$t("aiEnterprise.deploy.编辑名称")),9,zo),e("div",{class:"action-item delete-ico",onClick:k=>P("delete",L,u)},i(t.$t("public.删除")),9,Po)])]),_:1},8,["columns","data","loading","border"]),e("div",qo,[e("div",{class:"add",onClick:o[7]||(o[7]=u=>P("add"))},"+ "+i(t.$t("aiEnterprise.deploy.创建分类")),1)])])])):f("",!0)],4),v(be,{ref_key:"sPromptRef",ref:V,onOk:X,title:y.value=="edit"?t.$t("public.编辑"):y.value=="add"?t.$t("public.添加"):y.value=="delete"?t.$t("public.删除"):""},{content:_(()=>[y.value=="delete"?(c(),p("div",Fo,[e("div",Mo,i(t.$t("aiEnterprise.deploy.是否确认删除该分类"))+"？",1),e("div",Qo,i(t.$t("aiEnterprise.deploy.该分类下的应用也会同步进行移除")),1)])):(c(),M(U,{key:1,modelValue:B.value,"onUpdate:modelValue":o[8]||(o[8]=u=>B.value=u),maxlength:25,placeholder:t.$t("aiEnterprise.deploy.请输入分类名称")},null,8,["modelValue","placeholder"]))]),_:1},8,["title"]),v(ke,{ref_key:"exclusiveRobotRef",ref:ne,onInit:se,forbiddenList:D.value},null,8,["forbiddenList"]),n.value.workbenchCategoryList[b.value]&&n.value.workbenchCategoryList[b.value].getWorkbenchChunkList?(c(),M(I(qe),{key:0,ref_key:"searchRobotRef",ref:w,list:n.value.workbenchCategoryList[b.value].getWorkbenchChunkList,"onUpdate:list":o[9]||(o[9]=u=>n.value.workbenchCategoryList[b.value].getWorkbenchChunkList=u),onInit:se},null,8,["list"])):f("",!0)]),v(fe,{ref_key:"addMemberRef",ref:G,onInit:l,userOpen:!0,bizType:I(m).currentRoute.value.query.bizType,onGetWhole:s,onGetDifferences:R},null,8,["bizType"]),n.value.workbenchCategoryList[b.value]&&n.value.workbenchCategoryList[b.value].getWorkbenchChunkList?(c(),M(Ce,{key:0,ref_key:"robotPageRef",ref:h,list:n.value.workbenchCategoryList[b.value].getWorkbenchChunkList,"onUpdate:list":o[10]||(o[10]=u=>n.value.workbenchCategoryList[b.value].getWorkbenchChunkList=u)},null,8,["list"])):f("",!0)],64)}}});const ys=ye(Wo,[["__scopeId","data-v-3bfaf5b3"]]);export{ys as default};
