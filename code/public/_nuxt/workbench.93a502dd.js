import{_ as f}from"./workbenchNav.3ded0db1.js";import{a as b,b as v,e as k,r as A,f as w,w as T,i as C,y as h,j as u,B as E,u as I,m as L,o as N,ad as P,G as R}from"./entry.b3d0478f.js";import{_ as z}from"./cDenied.52a2b908.js";import{w as x,r as $,e as B}from"./employee.710f3e09.js";import"./sPrompt.b2dad4d0.js";import"./close.79d7cbfd.js";import"./cCreate.fa3fcebe.js";import"./ossUploaderNew.bc250fbe.js";import"./upload.1da94f3c.js";import"./svga.4b61c129.js";import"./loding.3cd02d06.js";import"./stringify.f484c508.js";import"./addBase.6bac7936.js";import"./robot.23bfda18.js";import"./curriculum.943a89fc.js";import"./unit.b72b5b5d.js";import"./avatar.476f89d8.js";import"./index.878cfd5e.js";import"./accountModel.dd81b68e.js";import"./phone.a2bf3e1d.js";import"./_commonjsHelpers.86de73f2.js";import"./_commonjs-dynamic-modules.302442b1.js";import"./pwd.e8e85914.js";import"./nickname.29f4a130.js";const O={class:"workbench"},D={class:"workbench-content"},W=b({__name:"workbench",setup(F){const{proxy:i}=L(),p=v(),y=k(),a=A([{title:"工作台",url:"",name:"2",img:x,type:"workbench",children:[]},{title:"推荐AI应用",url:"",name:"1",img:$,type:"recommend",children:[]},{title:"AI数字员工",url:"/ai/employee",name:"3",img:B,type:"employee"}]);w(()=>{i.$isLogin()?(i.$api.getUserAccountInfo().then(r=>{let s=r.data.sourceDisplayListFlag;i.$api.queryWorkbenchPermissionList().then(n=>{a.value.forEach((t,o)=>{if(t.type=="workbench")if(s){if(n.data.length>0){let e=!0;n.data.forEach(c=>{e&&c.bizType!="WORKBENCH_PERSONAL"&&c.bizType!="WORKBENCH_TEAM"&&(e=!1,i.$api.getWorkbenchInfo({bizType:c.bizType,code:c.code}).then(m=>{m.data&&m.data.workbenchCategoryList.length>0&&(a.value[o].children=[],m.data.workbenchCategoryList.forEach(d=>{let g=d.getWorkbenchChunkList.map(l=>({title:l.robotName,url:"",img:"",imgActive:"",type:"sourceDisplayChildren",name:l.code,robotCode:l.robotCode,robotType:l.robotType}));a.value[o].children.push({title:d.name,url:"",img:"",imgActive:"",name:d.code,type:"sourceDisplay",children:g})}))}))})}}else a.value[o].children=n.data.map(e=>({title:e.name,url:"/ai/app/often?code="+e.code+"&bizType="+e.bizType,img:e.afterClickingImgUrl,imgActive:e.beforeClickingImgUrl,name:e.code}));t.type=="my"&&t.children.forEach((e,c)=>{e.type=="agent"&&p.clientType=="PERSONAL"&&t.children.splice(c,1)})}),_()})}),i.$api.getTenantInfo().then(r=>{p.setFirmParams(r.data)})):_()});const _=()=>{let r={type:"AI_APPLY_CATEGORY"};i.$api.queryAiApplyListPermission(r).then(s=>{a.value.forEach((n,t)=>{n.type=="recommend"&&(a.value[t].children=s.data.map(o=>({title:o.cateName,url:i.$getTypeRoute(o.description),img:"",imgActive:"",name:o.code}))),n.type=="employee"&&p.clientType=="PERSONAL"&&a.value.splice(t,1)})})};return T(()=>p.firmParams,r=>{r.isPaidTeamFlag},{immediate:!0,deep:!0}),(r,s)=>{const n=f,t=P,o=z;return N(),C("div",O,[h("div",{class:"workbench-nav",style:E({"z-index":I(y).currentRoute.value.path=="/ai/ppt"?"300":"302"})},[u(n,{list:a.value},null,8,["list"])],4),h("div",D,[u(t)]),u(o)])}}});const le=R(W,[["__scopeId","data-v-8182bbae"]]);export{le as default};
