import{a as y,r as u,h as V,c as $,k as p,K as C,o as S,j as v,A as _,y as t,U as m,V as w,C as k,D as M,m as b,G as B}from"./entry.b3d0478f.js";import"./_commonjsHelpers.86de73f2.js";import"./_commonjs-dynamic-modules.302442b1.js";const I=n=>(k("data-v-4e98bd30"),n=n(),M(),n),N=I(()=>t("div",{class:"modal-title"},"设置登录密码",-1)),U={class:"item"},A={class:"item-input"},D={class:"item"},E={class:"item-input"},J=y({__name:"pwd",setup(n,{expose:f}){const l=u(!1),{proxy:s}=b(),d=u({}),r=u(!1),e=u({pw1:"",pw2:"",pw3:""}),g=i=>{d.value=JSON.parse(JSON.stringify(i)),e.value={pw1:"",pw2:"",pw3:""},l.value=!0},h=()=>{if(s.$isEmpty(e.value.pw2)){s.$Message.error("请输入密码");return}if(s.$isEmpty(e.value.pw3)){s.$Message.error("请输入密码");return}if(e.value.pw2!=e.value.pw3){s.$Message.error("两次密码输入不一致");return}d.value.oldPassword=e.value.pw1,d.value.password=e.value.pw2,s.$api.editLoginAccount(d.value).then(()=>{r.value=!1,s.$Message.success("已更改"),l.value=!1,emits("init")}).catch(()=>{r.value=!1})};return f({showFn:g}),(i,a)=>{const c=V("Button"),x=C;return S(),$(x,{modelValue:l.value,"onUpdate:modelValue":a[3]||(a[3]=o=>l.value=o),"mask-closable":!1},{header:p(()=>[N]),footer:p(()=>[v(c,{onClick:a[2]||(a[2]=o=>l.value=!1)},{default:p(()=>[_("取消")]),_:1}),v(c,{type:"primary",onClick:h,loading:r.value},{default:p(()=>[_("确定")]),_:1},8,["loading"])]),default:p(()=>[t("div",U,[t("div",A,[m(t("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>e.value.pw2=o),type:"password",placeholder:"请输入新密码"},null,512),[[w,e.value.pw2]])])]),t("div",D,[t("div",E,[m(t("input",{"onUpdate:modelValue":a[1]||(a[1]=o=>e.value.pw3=o),type:"password",maxlength:"20",placeholder:"请输入6~20位密码"},null,512),[[w,e.value.pw3]])])])]),_:1},8,["modelValue"])}}});const j=B(J,[["__scopeId","data-v-4e98bd30"]]);export{j as default};
